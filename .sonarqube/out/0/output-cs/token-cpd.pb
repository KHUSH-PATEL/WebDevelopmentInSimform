ù"
rC:\Users\jimit\Desktop\.net\WebDevelopment\WebDevelopmentAPI\WebDevelopmentAPI\Controllers\DepartmentController.cs
	namespace 	
WebDevelopmentAPI
 
. 
Controllers '
{ 
[ 
Route 

(
 
$str 
) 
]  
[		 
ApiController		 
]		 
public

 

class

  
DepartmentController

 %
:

& '
ControllerBase

( 6
{ 
private 
readonly !
IDepartmentRepository .!
_departmentRepository/ D
;D E
private 
readonly 
ILogger  
<  ! 
DepartmentController! 5
>5 6
_logger7 >
;> ?
public  
DepartmentController #
(# $!
IDepartmentRepository$ 9 
departmentRepository: N
,N O
ILoggerP W
<W X 
DepartmentControllerX l
>l m
loggern t
)t u
{ 	!
_departmentRepository !
=" # 
departmentRepository$ 8
;8 9
_logger 
= 
logger 
; 
} 	
[ 	
HttpGet	 
] 
public 
IActionResult 
AllDepartment *
(* +
)+ ,
{ 	
return 
Ok 
( !
_departmentRepository +
.+ ,
GetAllDepartments, =
(= >
)> ?
)? @
;@ A
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public 
IActionResult 
GetDepartmentbyId .
(. /
int/ 2
?2 3
id4 6
)6 7
{ 	
var 
emp 
= !
_departmentRepository +
.+ ,
GetSingleDepartment, ?
(? @
id@ B
)B C
;C D
if 
( 
emp 
== 
null 
) 
{ 
return 

StatusCode !
(! "
$num" %
,% &
$str' A
)A B
;B C
} 
return   
Ok   
(   
emp   
)   
;   
}!! 	
["" 	
HttpPost""	 
]"" 
public## 
IActionResult## 
AddDepartment## *
(##* +

Department##+ 5

department##6 @
)##@ A
{$$ 	
if%% 
(%% 

ModelState%% 
.%% 
IsValid%% "
)%%" #
{&& 
return'' 
Ok'' 
('' !
_departmentRepository'' /
.''/ 0
AddDepartment''0 =
(''= >

department''> H
)''H I
)''I J
;''J K
}(( 
return)) 

BadRequest)) 
()) 
$str)) 8
)))8 9
;))9 :
}** 	
[++ 	
HttpPut++	 
]++ 
public,, 
IActionResult,, 
UpdateDepartment,, -
(,,- .

Department,,. 8

department,,9 C
),,C D
{-- 	
if.. 
(.. 

ModelState.. 
... 
IsValid.. "
).." #
{// 
return00 
Ok00 
(00 !
_departmentRepository00 /
.00/ 0
UpdateDepartment000 @
(00@ A

department00A K
)00K L
)00L M
;00M N
}11 
return22 

BadRequest22 
(22 
$str22 7
)227 8
;228 9
}33 	
[44 	

HttpDelete44	 
(44 
$str44 
)44 
]44 
public55 
IActionResult55 
DeleteDepartment55 -
(55- .
int55. 1
id552 4
)554 5
{66 	
return77 
Ok77 
(77 !
_departmentRepository77 +
.77+ ,
DeleteDepartment77, <
(77< =
id77= ?
)77? @
)77@ A
;77A B
}88 	
}99 
}:: Õ"
sC:\Users\jimit\Desktop\.net\WebDevelopment\WebDevelopmentAPI\WebDevelopmentAPI\Controllers\DesignationController.cs
	namespace 	
WebDevelopmentAPI
 
. 
Controllers '
{ 
[ 
Route 

(
 
$str 
)  
]  !
[		 
ApiController		 
]		 
public

 

class

 !
DesignationController

 &
:

' (
ControllerBase

) 7
{ 
private 
readonly "
IDesignationRepository /"
_designationRepository0 F
;F G
private 
readonly 
ILogger  
<  !!
DesignationController! 6
>6 7
_logger8 ?
;? @
public !
DesignationController $
($ %"
IDesignationRepository% ;!
designationRepository< Q
,Q R
ILoggerS Z
<Z [!
DesignationController[ p
>p q
loggerr x
)x y
{ 	"
_designationRepository "
=# $!
designationRepository% :
;: ;
_logger 
= 
logger 
; 
} 	
[ 	
HttpGet	 
] 
public 
IActionResult 
AllDesignation +
(+ ,
), -
{ 	
return 
Ok 
( "
_designationRepository ,
., -
GetAllDesignations- ?
(? @
)@ A
)A B
;B C
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public 
IActionResult 
GetDesignationbyId /
(/ 0
int0 3
?3 4
id5 7
)7 8
{ 	
var 
emp 
= "
_designationRepository ,
., - 
GetSingleDesignation- A
(A B
idB D
)D E
;E F
if 
( 
emp 
== 
null 
) 
{ 
return 

StatusCode !
(! "
$num" %
,% &
$str' A
)A B
;B C
} 
return   
Ok   
(   
emp   
)   
;   
}!! 	
["" 	
HttpPost""	 
]"" 
public## 
IActionResult## 
AddDesignation## +
(##+ ,
EmployeeDesignation##, ?
designation##@ K
)##K L
{$$ 	
if%% 
(%% 

ModelState%% 
.%% 
IsValid%% "
)%%" #
{&& 
return'' 
Ok'' 
('' "
_designationRepository'' 0
.''0 1
AddDesignation''1 ?
(''? @
designation''@ K
)''K L
)''L M
;''M N
}(( 
return)) 

BadRequest)) 
()) 
$str)) 8
)))8 9
;))9 :
}** 	
[++ 	
HttpPut++	 
]++ 
public,, 
IActionResult,, 
UpdateDesignation,, .
(,,. /
EmployeeDesignation,,/ B
designation,,C N
),,N O
{-- 	
if.. 
(.. 

ModelState.. 
... 
IsValid.. "
).." #
{// 
return00 
Ok00 
(00 "
_designationRepository00 0
.000 1
UpdateDesignation001 B
(00B C
designation00C N
)00N O
)00O P
;00P Q
}11 
return22 

BadRequest22 
(22 
$str22 7
)227 8
;228 9
}33 	
[44 	

HttpDelete44	 
(44 
$str44 
)44 
]44 
public55 
IActionResult55 
DeleteDesignation55 .
(55. /
int55/ 2
id553 5
)555 6
{66 	
return77 
Ok77 
(77 "
_designationRepository77 ,
.77, -
DeleteDesignation77- >
(77> ?
id77? A
)77A B
)77B C
;77C D
}88 	
}99 
}:: ˜)
pC:\Users\jimit\Desktop\.net\WebDevelopment\WebDevelopmentAPI\WebDevelopmentAPI\Controllers\EmployeeController.cs
	namespace 	
WebDevelopmentAPI
 
. 
Controllers '
{ 
[ 
Route 

(
 
$str 
) 
] 
[		 
ApiController		 
]		 
public

 

class

 
EmployeeController

 #
:

$ %
ControllerBase

& 4
{ 
private 
readonly 
IEmployeeRepository ,
_employeeRepository- @
;@ A
private 
readonly 
ILogger  
<  !
EmployeeController! 3
>3 4
_logger5 <
;< =
public 
EmployeeController !
(! "
IEmployeeRepository" 5
employeeRepository6 H
,H I
ILoggerJ Q
<Q R
EmployeeControllerR d
>d e
loggerf l
)l m
{ 	
this 
. 
_employeeRepository $
=% &
employeeRepository' 9
;9 :
_logger 
= 
logger 
; 
} 	
[ 	
HttpGet	 
] 
public 
IActionResult 
AllEmployee (
(( )
)) *
{ 	
_logger 
. 
LogInformation "
(" #
$str# E
)E F
;F G
return 
Ok 
( 
_employeeRepository )
.) *
GetAllEmployees* 9
(9 :
): ;
); <
;< =
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public 
IActionResult 
GetEmployeesbyId -
(- .
int. 1
?1 2
id3 5
)5 6
{ 	
_logger 
. 
LogInformation "
(" #
$str# J
)J K
;K L
var 
emp 
= 
_employeeRepository )
.) *
GetSingleEmployee* ;
(; <
id< >
)> ?
;? @
if 
( 
emp 
== 
null 
) 
{ 
_logger   
.   
LogError    
(    !
$str  ! ?
)  ? @
;  @ A
return!! 

StatusCode!! !
(!!! "
$num!!" %
,!!% &
$str!!' A
)!!A B
;!!B C
}"" 
return## 
Ok## 
(## 
emp## 
)## 
;## 
}$$ 	
[%% 	
HttpPost%%	 
]%% 
public&& 
IActionResult&& 
AddEmployee&& (
(&&( )
EmployeeViewModel&&) :
employee&&; C
)&&C D
{'' 	
_logger(( 
.(( 
LogInformation(( "
(((" #
$str((# E
)((E F
;((F G
if)) 
()) 

ModelState)) 
.)) 
IsValid)) "
)))" #
{** 
return++ 
Ok++ 
(++ 
_employeeRepository++ -
.++- .
AddEmployee++. 9
(++9 :
employee++: B
)++B C
)++C D
;++D E
},, 
_logger-- 
.-- 
LogError-- 
(-- 
$str-- W
)--W X
;--X Y
return.. 

BadRequest.. 
(.. 
$str.. 8
)..8 9
;..9 :
}// 	
[00 	
HttpPut00	 
]00 
public11 
IActionResult11 
UpdateEmployee11 ,
(11, -
EmployeeViewModel11- >
employee11? G
)11G H
{22 	
_logger33 
.33 
LogInformation33 "
(33" #
$str33# H
)33H I
;33I J
if44 
(44 

ModelState44 
.44 
IsValid44 "
)44" #
{55 
return66 
Ok66 
(66 
_employeeRepository66 -
.66- .
UpdateEmployee66. <
(66< =
employee66= E
)66E F
)66F G
;66G H
}77 
_logger88 
.88 
LogError88 
(88 
$str88 X
)88X Y
;88Y Z
return99 

BadRequest99 
(99 
$str99 7
)997 8
;998 9
}:: 	
[;; 	

HttpDelete;;	 
(;; 
$str;; 
);; 
];; 
public<< 
IActionResult<< 
DeleteEmployee<< +
(<<+ ,
int<<, /
id<<0 2
)<<2 3
{== 	
_logger>> 
.>> 
LogInformation>> "
(>>" #
$str>># H
)>>H I
;>>I J
return?? 
Ok?? 
(?? 
_employeeRepository?? )
.??) *
DeleteEmployee??* 8
(??8 9
id??9 ;
)??; <
)??< =
;??= >
}@@ 	
}AA 
}BB •

iC:\Users\jimit\Desktop\.net\WebDevelopment\WebDevelopmentAPI\WebDevelopmentAPI\Data\ApplicationContext.cs
	namespace 	
WebDevelopmentAPI
 
. 
Data  
{ 
public 

class 
ApplicationContext #
:$ %
	DbContext% .
{ 
public 
ApplicationContext !
(! "
DbContextOptions" 2
<2 3
ApplicationContext3 E
>E F
optionsG N
)N O
:O P
baseP T
(T U
optionsU \
)\ ]
{		 	
}

 	
public 
DbSet 
< 

Department 
>  
Departments! ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
DbSet 
< 
Employee 
> 
	Employees (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
DbSet 
< 
EmployeeDesignation (
>( )!
EmployeesDesignations* ?
{@ A
getB E
;E F
setG J
;J K
}K L
} 
} ¢
kC:\Users\jimit\Desktop\.net\WebDevelopment\WebDevelopmentAPI\WebDevelopmentAPI\Handler\AutoMapperHandler.cs
	namespace 	
WebDevelopmentAPI
 
. 
Handler #
{ 
public 

class 
AutoMapperHandler "
:" #
Profile# *
{ 
public 
AutoMapperHandler  
(  !
)! "
{		 	
	CreateMap

 
<

 
EmployeeViewModel

 '
,

' (
Employee

) 1
>

1 2
(

2 3
)

3 4
;

4 5
	CreateMap 
< 
Employee 
, 
EmployeeViewModel  1
>1 2
(2 3
)3 4
;4 5
} 	
} 
} ©
gC:\Users\jimit\Desktop\.net\WebDevelopment\WebDevelopmentAPI\WebDevelopmentAPI\Health\ApiHealthCheck.cs
	namespace 	
WebDevelopmentAPI
 
. 
Health "
{ 
public 

class 
ApiHealthCheck 
:  !
IHealthCheck" .
{ 
public 
Task 
< 
HealthCheckResult %
>% &
CheckHealthAsync' 7
(7 8
HealthCheckContext8 J
contextK R
,R S
CancellationTokenT e
cancellationTokenf w
=x y
default	z Å
)
Å Ç
{		 	
var

 
url

 
=

 
$str

 7
;

7 8
var 
client 
= 
new 

RestClient '
(' (
)( )
;) *
var 
request 
= 
new 
RestRequest )
() *
url* -
,- .
Method/ 5
.5 6
Get6 9
)9 :
;: ;
var 
response 
= 
client !
.! "
Execute" )
() *
request* 1
)1 2
;2 3
if 
( 
response 
. 
IsSuccessful %
)% &
{ 
return 
Task 
. 

FromResult &
(& '
HealthCheckResult' 8
.8 9
Healthy9 @
(@ A
)A B
)B C
;C D
} 
else 
{ 
return 
Task 
. 

FromResult &
(& '
HealthCheckResult' 8
.8 9
	Unhealthy9 B
(B C
)C D
)D E
;E F
} 
} 	
} 
} ˘M
ÄC:\Users\jimit\Desktop\.net\WebDevelopment\WebDevelopmentAPI\WebDevelopmentAPI\Migrations\20230704085358_UpdateDatabaseDesign.cs
	namespace 	
WebDevelopmentAPI
 
. 

Migrations &
{ 
public 

partial 
class  
UpdateDatabaseDesign -
:. /
	Migration0 9
{		 
	protected

 
override

 
void

 
Up

  "
(

" #
MigrationBuilder

# 3
migrationBuilder

4 D
)

D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str #
,# $
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 6
,6 7
nullable8 @
:@ A
falseB G
)G H
. 

Annotation #
(# $
$str$ 8
,8 9
$str: @
)@ A
,A B
DepartmentName "
=# $
table% *
.* +
Column+ 1
<1 2
string2 8
>8 9
(9 :
type: >
:> ?
$str@ O
,O P
nullableQ Y
:Y Z
false[ `
)` a
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 5
,5 6
x7 8
=>9 ;
x< =
.= >
Id> @
)@ A
;A B
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str -
,- .
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 6
,6 7
nullable8 @
:@ A
falseB G
)G H
. 

Annotation #
(# $
$str$ 8
,8 9
$str: @
)@ A
,A B
Designation 
=  !
table" '
.' (
Column( .
<. /
string/ 5
>5 6
(6 7
type7 ;
:; <
$str= K
,K L
	maxLengthM V
:V W
$numX Z
,Z [
nullable\ d
:d e
falsef k
)k l
}   
,   
constraints!! 
:!! 
table!! "
=>!!# %
{"" 
table## 
.## 

PrimaryKey## $
(##$ %
$str##% ?
,##? @
x##A B
=>##C E
x##F G
.##G H
Id##H J
)##J K
;##K L
}$$ 
)$$ 
;$$ 
migrationBuilder&& 
.&& 
CreateTable&& (
(&&( )
name'' 
:'' 
$str'' !
,''! "
columns(( 
:(( 
table(( 
=>(( !
new((" %
{)) 
Id** 
=** 
table** 
.** 
Column** %
<**% &
int**& )
>**) *
(*** +
type**+ /
:**/ 0
$str**1 6
,**6 7
nullable**8 @
:**@ A
false**B G
)**G H
.++ 

Annotation++ #
(++# $
$str++$ 8
,++8 9
$str++: @
)++@ A
,++A B
	FirstName,, 
=,, 
table,,  %
.,,% &
Column,,& ,
<,,, -
string,,- 3
>,,3 4
(,,4 5
type,,5 9
:,,9 :
$str,,; I
,,,I J
	maxLength,,K T
:,,T U
$num,,V X
,,,X Y
nullable,,Z b
:,,b c
false,,d i
),,i j
,,,j k

MiddleName-- 
=--  
table--! &
.--& '
Column--' -
<--- .
string--. 4
>--4 5
(--5 6
type--6 :
:--: ;
$str--< J
,--J K
	maxLength--L U
:--U V
$num--W Y
,--Y Z
nullable--[ c
:--c d
false--e j
)--j k
,--k l
LastName.. 
=.. 
table.. $
...$ %
Column..% +
<..+ ,
string.., 2
>..2 3
(..3 4
type..4 8
:..8 9
$str..: H
,..H I
	maxLength..J S
:..S T
$num..U W
,..W X
nullable..Y a
:..a b
false..c h
)..h i
,..i j
DOB// 
=// 
table// 
.//  
Column//  &
<//& '
DateTime//' /
>/// 0
(//0 1
type//1 5
://5 6
$str//7 B
,//B C
nullable//D L
://L M
false//N S
)//S T
,//T U
Mobile00 
=00 
table00 "
.00" #
Column00# )
<00) *
string00* 0
>000 1
(001 2
type002 6
:006 7
$str008 F
,00F G
	maxLength00H Q
:00Q R
$num00S U
,00U V
nullable00W _
:00_ `
false00a f
)00f g
,00g h
Address11 
=11 
table11 #
.11# $
Column11$ *
<11* +
string11+ 1
>111 2
(112 3
type113 7
:117 8
$str119 H
,11H I
	maxLength11J S
:11S T
$num11U X
,11X Y
nullable11Z b
:11b c
false11d i
)11i j
,11j k
Salary22 
=22 
table22 "
.22" #
Column22# )
<22) *
decimal22* 1
>221 2
(222 3
type223 7
:227 8
$str229 H
,22H I
nullable22J R
:22R S
false22T Y
)22Y Z
,22Z [
DepartmentId33  
=33! "
table33# (
.33( )
Column33) /
<33/ 0
int330 3
>333 4
(334 5
type335 9
:339 :
$str33; @
,33@ A
nullable33B J
:33J K
false33L Q
)33Q R
,33R S!
EmployeeDesignationId44 )
=44* +
table44, 1
.441 2
Column442 8
<448 9
int449 <
>44< =
(44= >
type44> B
:44B C
$str44D I
,44I J
nullable44K S
:44S T
false44U Z
)44Z [
}55 
,55 
constraints66 
:66 
table66 "
=>66# %
{77 
table88 
.88 

PrimaryKey88 $
(88$ %
$str88% 3
,883 4
x885 6
=>887 9
x88: ;
.88; <
Id88< >
)88> ?
;88? @
table99 
.99 

ForeignKey99 $
(99$ %
name:: 
::: 
$str:: E
,::E F
column;; 
:;; 
x;;  !
=>;;" $
x;;% &
.;;& '
DepartmentId;;' 3
,;;3 4
principalTable<< &
:<<& '
$str<<( 5
,<<5 6
principalColumn== '
:==' (
$str==) -
,==- .
onDelete>>  
:>>  !
ReferentialAction>>" 3
.>>3 4
Cascade>>4 ;
)>>; <
;>>< =
table?? 
.?? 

ForeignKey?? $
(??$ %
name@@ 
:@@ 
$str@@ X
,@@X Y
columnAA 
:AA 
xAA  !
=>AA" $
xAA% &
.AA& '!
EmployeeDesignationIdAA' <
,AA< =
principalTableBB &
:BB& '
$strBB( ?
,BB? @
principalColumnCC '
:CC' (
$strCC) -
,CC- .
onDeleteDD  
:DD  !
ReferentialActionDD" 3
.DD3 4
CascadeDD4 ;
)DD; <
;DD< =
}EE 
)EE 
;EE 
migrationBuilderGG 
.GG 
CreateIndexGG (
(GG( )
nameHH 
:HH 
$strHH 1
,HH1 2
tableII 
:II 
$strII "
,II" #
columnJJ 
:JJ 
$strJJ &
)JJ& '
;JJ' (
migrationBuilderLL 
.LL 
CreateIndexLL (
(LL( )
nameMM 
:MM 
$strMM :
,MM: ;
tableNN 
:NN 
$strNN "
,NN" #
columnOO 
:OO 
$strOO /
)OO/ 0
;OO0 1
}PP 	
	protectedRR 
overrideRR 
voidRR 
DownRR  $
(RR$ %
MigrationBuilderRR% 5
migrationBuilderRR6 F
)RRF G
{SS 	
migrationBuilderTT 
.TT 
	DropTableTT &
(TT& '
nameUU 
:UU 
$strUU !
)UU! "
;UU" #
migrationBuilderWW 
.WW 
	DropTableWW &
(WW& '
nameXX 
:XX 
$strXX #
)XX# $
;XX$ %
migrationBuilderZZ 
.ZZ 
	DropTableZZ &
(ZZ& '
name[[ 
:[[ 
$str[[ -
)[[- .
;[[. /
}\\ 	
}]] 
}^^ ö
bC:\Users\jimit\Desktop\.net\WebDevelopment\WebDevelopmentAPI\WebDevelopmentAPI\Model\Department.cs
	namespace 	
WebDevelopmentAPI
 
. 
Model !
{ 
public 

class 

Department 
{ 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
[ 	
Required	 
] 
public		 
string		 
DepartmentName		 $
{		% &
get		' *
;		* +
set		, /
;		/ 0
}		1 2
}

 
} ∞
`C:\Users\jimit\Desktop\.net\WebDevelopment\WebDevelopmentAPI\WebDevelopmentAPI\Model\Employee.cs
	namespace 	
WebDevelopmentAPI
 
. 
Model !
{ 
public 

class 
Employee 
{ 
public		 
int		 
Id		 
{		 
get		 
;		 
set		  
;		  !
}		" #
[

 	
Required

	 
,

 
	MaxLength

 
(

 
$num

 
)

  
]

  !
public 
string 
	FirstName 
{  !
get" %
;% &
set' *
;* +
}, -
[ 	
	MaxLength	 
( 
$num 
) 
] 
public 
string 

MiddleName  
{! "
get# &
;& '
set( +
;+ ,
}- .
[ 	
Required	 
, 
	MaxLength 
( 
$num 
)  
]  !
public 
string 
LastName 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
Required	 
] 
[ 	
DataType	 
( 
DataType 
. 
Date 
)  
,  !
DisplayFormat" /
(/ 0
DataFormatString0 @
=A B
$strC S
,S T!
ApplyFormatInEditModeU j
=k l
truem q
)q r
]r s
public 
DateTime 
DOB 
{ 
get !
;! "
set# &
;& '
}( )
[ 	
Required	 
] 
[ 	
	MaxLength	 
( 
$num 
) 
] 
[ 	
RegularExpression	 
( 
$str *
,* +
ErrorMessage, 8
=9 :
$str; S
)S T
]T U
public 
string 
Mobile 
{ 
get "
;" #
set$ '
;' (
}) *
[ 	
	MaxLength	 
( 
$num 
) 
] 
public 
string 
Address 
{ 
get  #
;# $
set% (
;( )
}* +
[ 	
Required	 
] 
public 
Decimal 
Salary 
{ 
get  #
;# $
set% (
;( )
}* +
[ 	
Required	 
, 
Display 
( 
Name 
=  
$str! -
)- .
]. /
public 
int 
DepartmentId 
{  !
get" %
;% &
set' *
;* +
}, -
[ 	
Required	 
, 
Display 
( 
Name 
=  
$str! .
). /
]/ 0
public 
int !
EmployeeDesignationId (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
[   	

ForeignKey  	 
(   
$str   +
)  + ,
]  , -
public!! 
EmployeeDesignation!! "
EmployeeDesignation!!# 6
{!!7 8
get!!9 <
;!!< =
set!!> A
;!!A B
}!!C D
["" 	

ForeignKey""	 
("" 
$str"" "
)""" #
]""# $
public## 

Department## 

Department## $
{##% &
get##' *
;##* +
set##, /
;##/ 0
}##1 2
}$$ 
}%% ˇ
kC:\Users\jimit\Desktop\.net\WebDevelopment\WebDevelopmentAPI\WebDevelopmentAPI\Model\EmployeeDesignation.cs
	namespace 	
WebDevelopmentAPI
 
. 
Model !
{ 
public 

class 
EmployeeDesignation $
{ 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
[ 	
Required	 
, 
	MaxLength 
( 
$num 
)  
]  !
public		 
string		 
Designation		 !
{		" #
get		$ '
;		' (
set		) ,
;		, -
}		. /
}

 
} Œ
iC:\Users\jimit\Desktop\.net\WebDevelopment\WebDevelopmentAPI\WebDevelopmentAPI\Model\EmployeeViewModel.cs
	namespace 	
WebDevelopmentAPI
 
. 
Model !
{ 
public 

class 
EmployeeViewModel "
{ 
public		 
int		 
Id		 
{		 
get		 
;		 
set		  
;		  !
}		" #
[

 	
Required

	 
,

 
	MaxLength

 
(

 
$num

 
)

  
]

  !
public 
string 
	FirstName 
{  !
get" %
;% &
set' *
;* +
}, -
[ 	
	MaxLength	 
( 
$num 
) 
] 
public 
string 

MiddleName  
{! "
get# &
;& '
set( +
;+ ,
}- .
[ 	
Required	 
, 
	MaxLength 
( 
$num 
)  
]  !
public 
string 
LastName 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
Required	 
] 
[ 	
DataType	 
( 
DataType 
. 
Date 
)  
,  !
DisplayFormat" /
(/ 0
DataFormatString0 @
=A B
$strC S
,S T!
ApplyFormatInEditModeU j
=k l
truem q
)q r
]r s
public 
DateTime 
DOB 
{ 
get !
;! "
set# &
;& '
}( )
[ 	
Required	 
] 
[ 	
	MaxLength	 
( 
$num 
) 
] 
[ 	
RegularExpression	 
( 
$str *
,* +
ErrorMessage, 8
=9 :
$str; S
)S T
]T U
public 
string 
Mobile 
{ 
get "
;" #
set$ '
;' (
}) *
[ 	
	MaxLength	 
( 
$num 
) 
] 
public 
string 
Address 
{ 
get  #
;# $
set% (
;( )
}* +
[ 	
Required	 
] 
public 
Decimal 
Salary 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
DepartmentId 
{  !
get" %
;% &
set' *
;* +
}, -
public 
int !
EmployeeDesignationId (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
} 
} ®4
YC:\Users\jimit\Desktop\.net\WebDevelopment\WebDevelopmentAPI\WebDevelopmentAPI\Program.cs
	namespace 	
WebDevelopmentAPI
 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	
var 
builder 
= 
WebApplication (
.( )
CreateBuilder) 6
(6 7
args7 ;
); <
;< =
LoggerConfiguration 
loggerConfiguration  3
=4 5
new6 9
LoggerConfiguration: M
(M N
)N O
;O P
builder 
. 
Host 
. 

UseSerilog #
(# $
($ %
context% ,
,, -
configuration. ;
); <
=>= ?
configuration@ M
.M N
ReadFromN V
.V W
ConfigurationW d
(d e
contexte l
.l m
Configurationm z
)z {
){ |
;| }
Log 
. 
Logger 
= 
loggerConfiguration ,
. 
MinimumLevel #
.# $
Override$ ,
(, -
$str- 8
,8 9
LogEventLevel: G
.G H
InformationH S
)S T
. 
Enrich 
. 
FromLogContext ,
(, -
)- .
. 
WriteTo 
. 
Console &
(& '
)' (
. 
CreateLogger #
(# $
)$ %
;% &
builder 
. 
Services 
. 
AddControllers +
(+ ,
), -
;- .
builder   
.   
Services   
.   #
AddEndpointsApiExplorer   4
(  4 5
)  5 6
;  6 7
builder!! 
.!! 
Services!! 
.!! 
AddSwaggerGen!! *
(!!* +
)!!+ ,
;!!, -
builder"" 
."" 
Services"" 
."" 
AddDbContext"" )
<"") *
ApplicationContext""* <
>""< =
(""= >
options""> E
=>""F H
options""I P
.""P Q
UseSqlServer""Q ]
(""] ^
builder## 
.## 
Configuration## %
.##% &
GetConnectionString##& 9
(##9 :
$str##: M
)##M N
)##N O
)##O P
;##P Q
builder%% 
.%% 
Services%% 
.%% 
	AddScoped%% &
<%%& '
IEmployeeRepository%%' :
,%%: ;
EmployeeRepository%%; M
>%%M N
(%%N O
)%%O P
;%%P Q
builder&& 
.&& 
Services&& 
.&& 
	AddScoped&& &
<&&& '!
IDepartmentRepository&&' <
,&&< = 
DepartmentRepository&&> R
>&&R S
(&&S T
)&&T U
;&&U V
builder'' 
.'' 
Services'' 
.'' 
	AddScoped'' &
<''& '"
IDesignationRepository''' =
,''= >!
DesignationRepository''? T
>''T U
(''U V
)''V W
;''W X
builder)) 
.)) 
Services)) 
.)) 
AddHealthChecks)) ,
()), -
)))- .
.** 
AddCheck** 
<** 
ApiHealthCheck** (
>**( )
(**) *
$str*** ;
,**; <
tags**= A
:**A B
new**C F
string**G M
[**M N
]**N O
{**P Q
$str**R ^
}**_ `
)**` a
;**a b
var,, 

automapper,, 
=,, 
new,,  
MapperConfiguration,,! 4
(,,4 5
item,,5 9
=>,,: <
item,,= A
.,,A B

AddProfile,,B L
(,,L M
new,,M P
AutoMapperHandler,,Q b
(,,b c
),,c d
),,d e
),,e f
;,,f g
IMapper-- 
mapper-- 
=-- 

automapper-- %
.--% &
CreateMapper--& 2
(--2 3
)--3 4
;--4 5
builder.. 
... 
Services.. 
... 
AddSingleton.. )
(..) *
mapper..* 0
)..0 1
;..1 2
	SentrySdk00 
.00 
Init00 
(00 
$str00 y
)00y z
;00z {
	SentrySdk11 
.11 
CaptureMessage11 $
(11$ %
$str11% 3
)113 4
;114 5
var33 
app33 
=33 
builder33 
.33 
Build33 #
(33# $
)33$ %
;33% &
if66 
(66 
app66 
.66 
Environment66 
.66  
IsDevelopment66  -
(66- .
)66. /
)66/ 0
{77 
app88 
.88 

UseSwagger88 
(88 
)88  
;88  !
app99 
.99 
UseSwaggerUI99  
(99  !
)99! "
;99" #
}:: 
app;; 
.;; 

UseRouting;; 
(;; 
);; 
;;; 
app<< 
.<< 
UseHttpsRedirection<< #
(<<# $
)<<$ %
;<<% &
app== 
.== 
UseAuthorization==  
(==  !
)==! "
;==" #
app>> 
.>> 
UseEndpoints>> 
(>> 
	endpoints>> &
=>>>' )
{?? 
	endpointsAA 
.AA 
MapHealthChecksAA )
(AA) *
$strAA* 3
,AA3 4
newAA5 8
HealthCheckOptionsAA9 K
(AAK L
)AAL M
{BB 
	PredicateCC 
=CC 
_CC  !
=>CC" $
trueCC% )
,CC) *
ResponseWriterDD "
=DD# $
UIResponseWriterDD% 5
.DD5 6&
WriteHealthCheckUIResponseDD6 P
}EE 
)EE 
;EE 
	endpointsFF 
.FF 
MapControllersFF (
(FF( )
)FF) *
;FF* +
}GG 
)GG 
;GG 
appHH 
.HH 
RunHH 
(HH 
)HH 
;HH 
}II 	
}JJ 
}KK ú"
qC:\Users\jimit\Desktop\.net\WebDevelopment\WebDevelopmentAPI\WebDevelopmentAPI\Repository\DepartmentRepository.cs
	namespace 	
WebDevelopmentAPI
 
. 

Repository &
{ 
public 

class  
DepartmentRepository %
:& '!
IDepartmentRepository( =
{ 
private 
readonly 
ApplicationContext +
_context, 4
;4 5
public		  
DepartmentRepository		 #
(		# $
ApplicationContext		$ 6
context		7 >
)		> ?
{

 	
_context 
= 
context 
; 
} 	
public 
IEnumerable 
< 

Department %
>% &
AddDepartment' 4
(4 5

Department5 ?

department@ J
)J K
{ 	
if 
( 

department 
!= 
null 
)  
{ 
_context 
. 
Departments $
.$ %
Add% (
(( )

department) 3
)3 4
;4 5
_context 
. 
SaveChanges $
($ %
)% &
;& '
} 
return 
GetAllDepartments $
($ %
)% &
;& '
} 	
public 

Department 
DeleteDepartment *
(* +
int+ .
?. /
id0 2
)2 3
{ 	
var 
dept 
= 
_context 
. 
Departments )
.) *
FirstOrDefault* 8
(8 9
x9 :
=>; =
x> ?
.? @
Id@ B
==B D
idD F
)F G
;G H
if 
( 
dept 
!= 
null 
) 
{ 
_context 
. 
Departments $
.$ %
Remove% +
(+ ,
dept, 0
)0 1
;1 2
_context 
. 
SaveChanges $
($ %
)% &
;& '
} 
return 
dept 
; 
}   	
public"" 
IEnumerable"" 
<"" 

Department"" %
>""% &
GetAllDepartments""' 8
(""8 9
)""9 :
{## 	
return$$ 
_context$$ 
.$$ 
Departments$$ '
;$$' (
}%% 	
public'' 

Department'' 
GetSingleDepartment'' -
(''- .
int''. 1
?''1 2
id''3 5
)''5 6
{(( 	
var)) 
dept)) 
=)) 
_context)) 
.)) 
Departments)) *
.))* +
FirstOrDefault))+ 9
())9 :
x)): ;
=>)); =
x))= >
.))> ?
Id))? A
==))A C
id))C E
)))E F
;))F G
return** 
dept** 
;** 
}++ 	
public-- 

Department-- 
UpdateDepartment-- *
(--* +

Department--+ 5

department--6 @
)--@ A
{.. 	
var// 
dept// 
=// 
_context// 
.// 
Departments// )
.//) *
FirstOrDefault//* 8
(//8 9
x//9 :
=>//: <
x//< =
.//= >
Id//> @
==//@ B

department//C M
.//M N
Id//N P
)//P Q
;//Q R
if00 
(00 
dept00 
!=00 
null00 
)00 
{11 
dept22 
.22 
DepartmentName22 #
=22$ %

department22& 0
.220 1
DepartmentName221 ?
;22? @
_context33 
.33 
Departments33 $
.33$ %
Update33% +
(33+ ,
dept33, 0
)330 1
;331 2
_context44 
.44 
SaveChanges44 $
(44$ %
)44% &
;44& '
}55 
return66 
dept66 
;66 
}77 	
}88 
}99 ∂#
rC:\Users\jimit\Desktop\.net\WebDevelopment\WebDevelopmentAPI\WebDevelopmentAPI\Repository\DesignationRepository.cs
	namespace 	
WebDevelopmentAPI
 
. 

Repository &
{ 
public 

class !
DesignationRepository &
:' ("
IDesignationRepository) ?
{ 
private 
readonly 
ApplicationContext +
_context, 4
;4 5
public		 !
DesignationRepository		 $
(		$ %
ApplicationContext		% 7
context		8 ?
)		? @
{

 	
_context 
= 
context  
;  !
} 	
public 
IEnumerable 
< 
EmployeeDesignation .
>. /
AddDesignation0 >
(> ?
EmployeeDesignation? R
designationS ^
)^ _
{ 	
if 
( 
designation 
!= 
null "
)" #
{ 
_context 
. !
EmployeesDesignations .
.. /
Add/ 2
(2 3
designation3 >
)> ?
;? @
_context 
. 
SaveChanges $
($ %
)% &
;& '
} 
return 
GetAllDesignations %
(% &
)& '
;' (
} 	
public 
EmployeeDesignation "
DeleteDesignation# 4
(4 5
int5 8
?8 9
id: <
)< =
{ 	
var 
desgn 
= 
_context 
.  !
EmployeesDesignations  5
.5 6
FirstOrDefault6 D
(D E
xE F
=>G I
xJ K
.K L
IdL N
==O Q
idR T
)T U
;U V
if 
( 
desgn 
!= 
null 
) 
{ 
_context 
. !
EmployeesDesignations .
.. /
Remove/ 5
(5 6
desgn6 ;
); <
;< =
_context 
. 
SaveChanges $
($ %
)% &
;& '
} 
return 
desgn 
; 
}   	
public"" 
IEnumerable"" 
<"" 
EmployeeDesignation"" .
>"". /
GetAllDesignations""0 B
(""B C
)""C D
{## 	
return$$ 
_context$$ 
.$$ !
EmployeesDesignations$$ 1
;$$1 2
}%% 	
public'' 
EmployeeDesignation'' " 
GetSingleDesignation''# 7
(''7 8
int''8 ;
?''; <
id''= ?
)''? @
{(( 	
var)) 
desgn)) 
=)) 
_context))  
.))  !!
EmployeesDesignations))! 6
.))6 7
FirstOrDefault))7 E
())E F
x))F G
=>))H J
x))K L
.))L M
Id))M O
==))P R
id))S U
)))U V
;))V W
return** 
desgn** 
;** 
}++ 	
public-- 
EmployeeDesignation-- "
UpdateDesignation--# 4
(--4 5
EmployeeDesignation--5 H
designation--I T
)--T U
{.. 	
var// 
desgn// 
=// 
_context//  
.//  !!
EmployeesDesignations//! 6
.//6 7
FirstOrDefault//7 E
(//E F
x//F G
=>//H J
x//K L
.//L M
Id//M O
==//P R
designation//S ^
.//^ _
Id//_ a
)//a b
;//b c
if00 
(00 
desgn00 
!=00 
null00 
)00 
{11 
desgn22 
.22 
Designation22 !
=22" #
designation22$ /
.22/ 0
Designation220 ;
;22; <
_context33 
.33 !
EmployeesDesignations33 .
.33. /
Update33/ 5
(335 6
desgn336 ;
)33; <
;33< =
_context44 
.44 
SaveChanges44 $
(44$ %
)44% &
;44& '
}55 
return66 
desgn66 
;66 
}77 	
}88 
}99 ‘5
oC:\Users\jimit\Desktop\.net\WebDevelopment\WebDevelopmentAPI\WebDevelopmentAPI\Repository\EmployeeRepository.cs
	namespace 	
WebDevelopmentAPI
 
. 

Repository &
{ 
public 

class 
EmployeeRepository #
:$ %
IEmployeeRepository& 9
{		 
private

 
readonly

 
ApplicationContext

 +
_context

, 4
;

4 5
private 
readonly 
IMapper  
_mapper! (
;( )
private 
ILogger 
< 
EmployeeRepository *
>* +
_logger, 3
;3 4
public 
EmployeeRepository !
(! "
ApplicationContext" 4
context5 <
,< =
IMapper= D
mapperE K
,K L
ILoggerM T
<T U
EmployeeRepositoryU g
>g h
loggeri o
)o p
{ 	
_context 
= 
context 
; 
_mapper 
= 
mapper 
; 
_logger 
= 
logger 
; 
} 	
public 
IEnumerable 
< 
EmployeeViewModel ,
>, -
AddEmployee. 9
(9 :
EmployeeViewModel: K
empL O
)O P
{ 	
Employee 
employee 
= 
_mapper  '
.' (
Map( +
<+ ,
EmployeeViewModel, =
,= >
Employee> F
>F G
(G H
empH K
)K L
;L M
if 
( 
employee 
!= 
null  
)  !
{ 
_context 
. 
	Employees "
." #
Add# &
(& '
employee' /
)/ 0
;0 1
_context 
. 
SaveChanges $
($ %
)% &
;& '
_logger 
. 
LogInformation &
(& '
$str' C
)C D
;D E
} 
return 
GetAllEmployees "
(" #
)# $
;$ %
} 	
public   
EmployeeViewModel    
DeleteEmployee  ! /
(  / 0
int  0 3
?  3 4
id  5 7
)  7 8
{!! 	
var"" 
emp"" 
="" 
_context"" 
."" 
	Employees"" (
.""( )
FirstOrDefault"") 7
(""7 8
x""8 9
=>"": <
x""= >
.""> ?
Id""? A
==""B D
id""E G
)""G H
;""H I
if## 
(## 
emp## 
!=## 
null## 
)## 
{$$ 
_context%% 
.%% 
	Employees%% "
.%%" #
Remove%%# )
(%%) *
emp%%* -
)%%- .
;%%. /
_context&& 
.&& 
SaveChanges&& $
(&&$ %
)&&% &
;&&& '
_logger'' 
.'' 
LogInformation'' &
(''& '
$str''' E
)''E F
;''F G
}(( 
return)) 
_mapper)) 
.)) 
Map)) 
<)) 
Employee)) '
,))' (
EmployeeViewModel))) :
>)): ;
()); <
emp))< ?
)))? @
;))@ A
}** 	
public++ 
IEnumerable++ 
<++ 
EmployeeViewModel++ ,
>++, -
GetAllEmployees++. =
(++= >
)++> ?
{,, 	
var-- 
	employees-- 
=-- 
_context-- $
.--$ %
	Employees--% .
.--. /
Include--/ 6
(--6 7
x--7 8
=>--9 ;
x--< =
.--= >

Department--> H
)--H I
.--I J
Include--J Q
(--Q R
x--R S
=>--T V
x--W X
.--X Y
EmployeeDesignation--Y l
)--l m
.--m n
ToList--n t
(--t u
)--u v
;--v w
var.. 
employeeViewModels.. "
=..# $
_mapper..% ,
..., -
Map..- 0
<..0 1
List..1 5
<..5 6
Employee..6 >
>..> ?
,..? @
List..A E
<..E F
EmployeeViewModel..F W
>..W X
>..X Y
(..Y Z
	employees..Z c
)..c d
;..d e
return// 
employeeViewModels// %
;//% &
}00 	
public11 
EmployeeViewModel11  
GetSingleEmployee11! 2
(112 3
int113 6
?116 7
id118 :
)11: ;
{22 	
var33 
emp33 
=33 
_context33 
.33 
	Employees33 (
.33( )
FirstOrDefault33) 7
(337 8
x338 9
=>33: <
x33= >
.33> ?
Id33? A
==33B D
id33E G
)33G H
;33H I
return44 
_mapper44 
.44 
Map44 
<44 
Employee44 '
,44' (
EmployeeViewModel44) :
>44: ;
(44; <
emp44< ?
)44? @
;44@ A
}55 	
public66 
EmployeeViewModel66  
UpdateEmployee66! /
(66/ 0
EmployeeViewModel660 A
employee66B J
)66J K
{77 	
var88 
existingEmployee88  
=88! "
_context88# +
.88+ ,
	Employees88, 5
.885 6
FirstOrDefault886 D
(88D E
x88E F
=>88G I
x88J K
.88K L
Id88L N
==88O Q
employee88R Z
.88Z [
Id88[ ]
)88] ^
;88^ _
if:: 
(:: 
existingEmployee::  
!=::! #
null::$ (
)::( )
{;; 
_mapper<< 
.<< 
Map<< 
(<< 
employee<< $
,<<$ %
existingEmployee<<& 6
)<<6 7
;<<7 8
_context== 
.== 
SaveChanges== $
(==$ %
)==% &
;==& '
_logger>> 
.>> 
LogInformation>> &
(>>& '
$str>>' E
)>>E F
;>>F G
}?? 
return@@ 
_mapper@@ 
.@@ 
Map@@ 
<@@ 
Employee@@ '
,@@' (
EmployeeViewModel@@) :
>@@: ;
(@@; <
existingEmployee@@< L
)@@L M
;@@M N
}AA 	
}CC 
}DD Û
rC:\Users\jimit\Desktop\.net\WebDevelopment\WebDevelopmentAPI\WebDevelopmentAPI\Repository\IDepartmentRepository.cs
	namespace 	
WebDevelopmentAPI
 
. 

Repository &
{ 
public 

	interface !
IDepartmentRepository *
{ 
IEnumerable 
< 

Department 
> 
GetAllDepartments  1
(1 2
)2 3
;3 4

Department 
GetSingleDepartment &
(& '
int' *
?* +
id, .
). /
;/ 0
IEnumerable		 
<		 

Department		 
>		 
AddDepartment		  -
(		- .

Department		. 8

department		9 C
)		C D
;		D E

Department

 
UpdateDepartment

 #
(

# $

Department

$ .

department

/ 9
)

9 :
;

: ;

Department 
DeleteDepartment #
(# $
int$ '
?' (
id) +
)+ ,
;, -
} 
} ª	
sC:\Users\jimit\Desktop\.net\WebDevelopment\WebDevelopmentAPI\WebDevelopmentAPI\Repository\IDesignationRepository.cs
	namespace 	
WebDevelopmentAPI
 
. 

Repository &
{ 
public 

	interface "
IDesignationRepository +
{ 
IEnumerable 
< 
EmployeeDesignation '
>' (
GetAllDesignations) ;
(; <
)< =
;= >
EmployeeDesignation  
GetSingleDesignation 0
(0 1
int1 4
?4 5
id6 8
)8 9
;9 :
IEnumerable		 
<		 
EmployeeDesignation		 '
>		' (
AddDesignation		) 7
(		7 8
EmployeeDesignation		8 K
designation		L W
)		W X
;		X Y
EmployeeDesignation

 
UpdateDesignation

 -
(

- .
EmployeeDesignation

. A
designation

B M
)

M N
;

N O
EmployeeDesignation 
DeleteDesignation -
(- .
int. 1
?1 2
id3 5
)5 6
;6 7
} 
} ë	
pC:\Users\jimit\Desktop\.net\WebDevelopment\WebDevelopmentAPI\WebDevelopmentAPI\Repository\IEmployeeRepository.cs
	namespace 	
WebDevelopmentAPI
 
. 

Repository &
{ 
public 

	interface 
IEmployeeRepository (
{ 
IEnumerable 
< 
EmployeeViewModel %
>% &
GetAllEmployees' 6
(6 7
)7 8
;8 9
EmployeeViewModel 
GetSingleEmployee +
(+ ,
int, /
?/ 0
id1 3
)3 4
;4 5
IEnumerable		 
<		 
EmployeeViewModel		 %
>		% &
AddEmployee		' 2
(		2 3
EmployeeViewModel		3 D
request		E L
)		L M
;		M N
EmployeeViewModel

 
UpdateEmployee

 (
(

( )
EmployeeViewModel

) :
employee

; C
)

C D
;

D E
EmployeeViewModel 
DeleteEmployee (
(( )
int) ,
?, -
id. 0
)0 1
;1 2
} 
} 